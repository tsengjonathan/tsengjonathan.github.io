import{n as m,s as _,u as w,a as E,t as N,b as j,E as a,d as f,c as y,e as g,f as v,g as L,h as S,i as u,w as I,o as c,j as $,k as h,l as O,m as V,p as d,q as A,F as B,r as q,v as x}from"./vendor.cc2f7d33.js";const C=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}};C();const k="https://hacker-news.firebaseio.com/v0",D="topstories",F="item",P={id:m,by:_,time:m,title:_,url:w([_,j]),score:m},M=E(m),R=N(P),U=async()=>{const r=await(await fetch(`${k}/${D}.json`)).json(),i=M.decode(r);return a.fold(o=>{const t=o.map(s=>s.message).filter(s=>!!s).join(", ");return a.left(new Error(t))},o=>a.right(o))(i)},H=async e=>{const i=await(await fetch(`${k}/${F}/${e}.json`)).json(),o=R.decode(i);return a.fold(t=>{const s=t.map(n=>n.message).filter(n=>!!n).join(", ");return a.left(new Error(s))},t=>a.right(t))(o)};var b=(e,r)=>{for(const[i,o]of r)e[i]=o;return e};const K=f({components:{ElCard:y,ElLink:g,ElSkeleton:v},computed:{relativeTime(){const e=this.item&&this.item.time||0,r=L(e);return S(r,{addSuffix:!0})},scoreText(){const e=this.item&&this.item.score||0;return e>1?`${e} points`:`${e} point`}},created(){this.getItem(this.itemId)},data(){return{item:void 0}},props:{itemId:{type:Number,required:!0},rank:{type:Number,required:!0}},methods:{getItem(e){H(e).then(a.fold(r=>console.error(r),r=>this.item=r))}}}),z={key:1},G={class:"subtext"};function J(e,r,i,o,t,s){const n=v,l=g,p=y;return c(),u(p,{class:"item","body-style":{padding:"0.5rem"},shadow:"hover"},{default:I(()=>[e.item?$("",!0):(c(),u(n,{key:0})),e.item?(c(),h("div",z,[O(l,{href:e.item.url,disabled:!e.item.url},{default:I(()=>[V(d(e.rank)+". "+d(e.item.title),1)]),_:1},8,["href","disabled"]),A("div",G,d(e.scoreText)+" by "+d(e.item.by)+" "+d(e.relativeTime)+" | "+d(),1)])):$("",!0)]),_:1},8,["body-style"])}var T=b(K,[["render",J],["__scopeId","data-v-a724096e"]]);const Q=f({components:{Item:T},created(){this.getTopStories()},data(){return{items:new Array}},methods:{getTopStories(){U().then(a.fold(e=>console.error(e),e=>this.items=e.slice(0,20)))}}}),W={id:"item-list"};function X(e,r,i,o,t,s){const n=T;return c(),h("ul",W,[(c(!0),h(B,null,q(e.items,(l,p)=>(c(),u(n,{key:l,itemId:l,rank:p+1},null,8,["itemId","rank"]))),128))])}var Y=b(Q,[["render",X],["__scopeId","data-v-4004233d"]]);const Z=f({setup(e){return(r,i)=>(c(),u(Y))}});x(Z).mount("#app");
